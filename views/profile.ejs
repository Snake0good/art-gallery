<%- include('partials/header') -%>

<div class="w-full flex flex-col my-5">
  <div class="w-full pt-12 lg:flex lg:flex-row">
      <div class="w-full flex flex-col place-items-center justify-center lg:w-1/3 lg:place-items-top">
          <div class="">
              <p class="font-bold text-3xl text-teal-600 font-italic"> <%= user.userName %></p>
              <p class="font-bold">Shots Uploaded: <span class="text-pink-600 font-italic"><%= posts.length %> </span></p>
              
              <a href="/logout" class="flex place-items-center justify-center font-bold w-24 md:w-44 py-3 mt-4 outline text-red-500 rounded-lg hover:bg-red-600 hover:text-white duration-300">Logout</a>
          </div>
          <div class="w-full flex flex-col p-12 md:w-[500px] place-items-center">
            <i class="fa fa-upload text-5xl"></i>
            <h2 class="text-4xl font-bold">Upload a shot!</h2>
            <form action="/post/createPost" enctype="multipart/form-data" method="POST">
              <div class="bg-slate-900 p-2 my-6 rounded-lg ">
                <label for="imgUpload" class="hidden">Image</label>
                <input type="file" class="bg-slate-900 text-white placeholder-white hover:cursor-pointer" id="imageUpload" name="file">
              </div>
              <div class="flex flex-col">
                  <label for="title" class="text-xl font-bold">Title</label>
                  <input type="text" class="outline w-full py-2 rounded-lg" id="title" name="title">
              </div>
              <div class="flex flex-col">
                <label for="caption" class="text-xl font-bold">Caption</label>
                <textarea class="outline w-full py-2 rounded-lg" id="caption" name="caption"></textarea>
              </div>
              <button type="submit" class="flex place-items-center justify-center font-bold w-24 md:w-44 py-3 mt-4 outline bg-teal-600 text-white rounded-lg hover:bg-white hover:text-teal-600 duration-300" value="Upload">Upload</button>
            </form>
          </div>
      </div>

      <div class="w-full lg:w-2/3">
        <ul class="w-full flex flex-wrap">
        <% for(var i=0; i<posts.length; i++) {%>
          <li class="w-full md:w-1/2 lg:w-1/3 cursor">
            <a href="/post/<%= posts[i]._id%>" class="w-full h-full">
                <div class="p-3 h-full">
                    <div class="rounded-xl w-full overflow-hidden hover:shadow-xl hover:scale-105 duration-300">
                        <img src="<%= posts[i].image%>" class="object-cover h-[400px] w-full">
                    </div>
                </div>
            </a>
        <h1><% posts[i].user.userName %></h1>
        </li>
        <% } %>
        </ul>
        <div class="">
          <a class="flex place-items-center justify-center font-bold w-24 md:w-44 py-3 mt-4 outline bg-pink-600 text-white rounded-lg hover:bg-white hover:text-pink-600 duration-300" href="/feed">Return to Feed</a>
        </div>  
      </div>  
    </div>
  </div>
</div>


<!-- <script>
      setInterval(() => {
          location.reload(true)
      }, 5000)
    </script> -->


<%- include('partials/footer') -%>